stage('Build') {
    // The first milestone step starts tracking concurrent build order
    milestone()
    node {
        echo "Building"
        checkout scm
        app = docker.build("public.ecr.aws/t5j7w7w3/mnvrampup:frontend")
        
        //apply the dockerfile and push the image, nothing else needed
    }
}
stage('Deploy') {
    input "Deploy?"
    milestone()
    node {
        echo "Deploying"
        docker.withRegistery("https://419466290453.dkr.ecr.sa-east-1.amazonaws.com", "aws_credentials"){
            app.push()
        }
    }
}
