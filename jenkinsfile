stage('Build') {
    // The first milestone step starts tracking concurrent build order
    milestone()
    node {
        echo "Building"
        checkout scm
        app = docker.build("public.ecr.aws/t5j7w7w3/mnvrampup:frontend")
        
        //apply the dockerfile and push the image, nothing else needed
    }
}
stage('Deploy') {
    input "Deploy?"
    milestone()
    node {
        echo "Deploying"
        sh "aws ecr-public get-login-password --region us-east-1 | docker login --username AWS --password-stdin public.ecr.aws/t5j7w7w3"
        sh "docker push public.ecr.aws/t5j7w7w3/mnvrampup:frontend"
    }
}
