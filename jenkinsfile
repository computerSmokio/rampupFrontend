stage('Build') {
    // The first milestone step starts tracking concurrent build order
    milestone()
    node {
        echo "Building"
        checkout scm
        app = docker.build("public.ecr.aws/t5j7w7w3/mnvrampup:frontend")
        
        //apply the dockerfile and push the image, nothing else needed
    }
}
//tag:public.ecr.aws/t5j7w7w3/mnvrampup

//lock(resource: 'myResource', inversePrecedence: true){
//    milestone()
//    node {
//        echo "testing"
//    }
//}

stage('Deploy') {
    input "Deploy?"
    milestone()
    node {
        echo "Deploying"
        
    }
}
